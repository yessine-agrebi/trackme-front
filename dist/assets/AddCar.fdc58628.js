import{u as g,r as t,j as r}from"./index.5d213138.js";import{c as x,a as n,u as S,T as u,C as b,o as C}from"./object.3d02c563.js";import{g as _}from"./UserService.a365a797.js";import{S as v}from"./react-select.esm.03175673.js";import{a as q}from"./DeviceService.79692ac6.js";import{c as y}from"./CarService.7f17b2f6.js";import"./Icon.964e41b2.js";import"./Api.c0f7dd46.js";var a="C:\\Users\\asus\\Desktop\\TrackMe\\trackme-front-v0\\src\\pages\\car\\AddCar.jsx";const F={brand:"",model:"",num_serie:"",user:"",device_id:""},T=x({brand:n().required("Brand is required"),model:n().required("Model is required"),num_serie:n().required("N\xB0 Serie is required")}),O=()=>{g();const[i,f]=t.exports.useState([]),[m,p]=t.exports.useState([]),{control:d,register:s,formState:{errors:o},handleSubmit:h}=S({defaultValues:F,resolver:C(T)});t.exports.useEffect(()=>{_().then(e=>f(e)).catch(e=>console.error(e.message)),q().then(e=>p(e)).catch(e=>console.error(e.message))},[]);const c=i==null?void 0:i.map(e=>({value:e._id,label:e.name})),N=m==null?void 0:m.map(e=>({value:e.id,label:e.name}));return r("div",{children:r("form",{onSubmit:h(async e=>{await y(e).then(l=>console.log(l)).catch(l=>console.log("Failed to add user:",l.message))}),className:"space-y-4",children:[r(u,{name:"brand",label:"Brand",type:"text",register:s,error:o.brand,msgTooltip:!0},void 0,!1,{fileName:a,lineNumber:65,columnNumber:9},void 0),r(u,{name:"model",label:"Model",type:"text",register:s,error:o.model,msgTooltip:!0},void 0,!1,{fileName:a,lineNumber:73,columnNumber:9},void 0),r(u,{name:"num_serie",label:"N\xB0 Serie",type:"text",register:s,error:o.num_serie,msgTooltip:!0},void 0,!1,{fileName:a,lineNumber:81,columnNumber:9},void 0),r("div",{className:"mb-1",children:[r("label",{htmlFor:"role",className:"form-label",children:"User"},void 0,!1,{fileName:a,lineNumber:90,columnNumber:11},void 0),r(b,{control:d,name:"user",render:({field:e})=>r(v,{...e,className:"react-select",classNamePrefix:"select",options:c,value:c.find(l=>l.value===e.value),onChange:l=>e.onChange(l.value),id:"user"},void 0,!1,{fileName:a,lineNumber:97,columnNumber:15},void 0)},void 0,!1,{fileName:a,lineNumber:93,columnNumber:11},void 0),o.user&&r("span",{children:o.user.message},void 0,!1,{fileName:a,lineNumber:112,columnNumber:27},void 0)]},void 0,!0,{fileName:a,lineNumber:89,columnNumber:9},void 0),r("div",{className:"mb-1",children:[r("label",{htmlFor:"role",className:"form-label",children:"Device"},void 0,!1,{fileName:a,lineNumber:115,columnNumber:11},void 0),r(b,{control:d,name:"device_id",render:({field:e})=>r(v,{...e,className:"react-select",classNamePrefix:"select",options:N,value:N.find(l=>l.value===e.value),onChange:l=>e.onChange(l.value),id:"device_id"},void 0,!1,{fileName:a,lineNumber:122,columnNumber:15},void 0)},void 0,!1,{fileName:a,lineNumber:118,columnNumber:11},void 0),o.user&&r("span",{children:o.user.message},void 0,!1,{fileName:a,lineNumber:137,columnNumber:27},void 0)]},void 0,!0,{fileName:a,lineNumber:114,columnNumber:9},void 0),r("div",{className:"ltr:text-right rtl:text-left",children:r("button",{className:"btn btn-dark text-center",type:"submit",children:"Submit"},void 0,!1,{fileName:a,lineNumber:141,columnNumber:11},void 0)},void 0,!1,{fileName:a,lineNumber:140,columnNumber:9},void 0)]},void 0,!0,{fileName:a,lineNumber:64,columnNumber:7},void 0)},void 0,!1,{fileName:a,lineNumber:63,columnNumber:5},void 0)};export{O as default};
