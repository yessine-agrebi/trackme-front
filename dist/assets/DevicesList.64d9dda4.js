import{r as o,u as f,j as e}from"./index.5d213138.js";import{B as d}from"./Button.ae2eea75.js";import{C as s}from"./Card.d2984708.js";import{I as b}from"./Icon.964e41b2.js";import"./Api.c0f7dd46.js";import{a as h}from"./DeviceService.79692ac6.js";import"./index.b0acfd76.js";var i="C:\\Users\\asus\\Desktop\\TrackMe\\trackme-front-v0\\src\\pages\\device\\DevicesList.jsx";const C=()=>{const[m,a]=o.exports.useState([]),[n,c]=o.exports.useState(!1),t=f();o.exports.useEffect(()=>{h().then(l=>{a(l)}).catch(l=>{console.log(l)})},[n]);const u=()=>{c(!n)},N=async l=>{if(window.confirm("Are you sure you want to delete this device?"))try{await deleteDevice(l),a(r=>r.filter(v=>v._id!==l)),u(),alert("Device deleted successfully!")}catch(r){console.log(r),alert("An error occurred while deleting the device.")}};return e("div",{className:"container",children:[e(s,{children:e(d,{text:"success",className:"btn-outline-success m-1",onClick:()=>t("/addusers"),children:"Ajouter une appareil"},void 0,!1,{fileName:i,lineNumber:44,columnNumber:7},void 0)},void 0,!1,{fileName:i,lineNumber:43,columnNumber:7},void 0),e(s,{title:"Table Head",children:e("div",{className:"overflow-x-auto -mx-6",children:e("div",{className:"inline-block min-w-full align-middle",children:e("div",{className:"overflow-hidden ",children:e("table",{className:"min-w-full divide-y divide-slate-100 table-fixed dark:divide-slate-700",children:[e("thead",{className:"bg-slate-200 dark:bg-slate-700",children:e("tr",{children:[e("th",{children:"ID"},void 0,!1,{fileName:i,lineNumber:53,columnNumber:15},void 0),e("th",{children:"Nom"},void 0,!1,{fileName:i,lineNumber:54,columnNumber:15},void 0),e("th",{children:"IMEI"},void 0,!1,{fileName:i,lineNumber:55,columnNumber:15},void 0),e("th",{children:"N\xB0 SIM"},void 0,!1,{fileName:i,lineNumber:56,columnNumber:15},void 0),e("th",{children:"Action"},void 0,!1,{fileName:i,lineNumber:57,columnNumber:15},void 0)]},void 0,!0,{fileName:i,lineNumber:52,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:51,columnNumber:17},void 0),e("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 text-center",children:m&&m.map(l=>e("tr",{children:[e("td",{children:l.id},void 0,!1,{fileName:i,lineNumber:63,columnNumber:17},void 0),e("td",{children:l.name},void 0,!1,{fileName:i,lineNumber:64,columnNumber:17},void 0),e("td",{children:l.configuration.ident},void 0,!1,{fileName:i,lineNumber:65,columnNumber:17},void 0),e("td",{children:l.configuration.phone},void 0,!1,{fileName:i,lineNumber:66,columnNumber:17},void 0),e("td",{children:e(d,{className:"text-nowrap px-1",onClick:()=>N(l.id),outline:!0,children:e(b,{icon:"heroicons:archive-box-x-mark"},void 0,!1,{fileName:i,lineNumber:70,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:68,columnNumber:17},void 0)},void 0,!1,{fileName:i,lineNumber:67,columnNumber:17},void 0)]},l.id,!0,{fileName:i,lineNumber:62,columnNumber:15},void 0))},void 0,!1,{fileName:i,lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:i,lineNumber:50,columnNumber:15},void 0)},void 0,!1,{fileName:i,lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:i,lineNumber:48,columnNumber:11},void 0)},void 0,!1,{fileName:i,lineNumber:47,columnNumber:9},void 0)},void 0,!1,{fileName:i,lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:i,lineNumber:42,columnNumber:5},void 0)};export{C as default};
