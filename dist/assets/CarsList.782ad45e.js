import{r as o,u as v,j as e}from"./index.5d213138.js";import{B as n}from"./Button.ae2eea75.js";import{C as s}from"./Card.d2984708.js";import{I as b}from"./Icon.964e41b2.js";import{g as h,d as x}from"./CarService.7f17b2f6.js";import"./index.b0acfd76.js";import"./Api.c0f7dd46.js";var i="C:\\Users\\asus\\Desktop\\TrackMe\\trackme-front-v0\\src\\pages\\car\\CarsList.jsx";const _=()=>{const[a,m]=o.exports.useState([]),[d,u]=o.exports.useState(!1),t=v();o.exports.useEffect(()=>{h().then(l=>{m(l)}).catch(l=>{console.log(l)})},[d]);const c=()=>{u(!d)},N=async l=>{if(window.confirm("Are you sure you want to delete this car?"))try{await x(l),m(r=>r.filter(f=>f._id!==l)),c(),alert("Car deleted successfully!")}catch(r){console.log(r),alert("An error occurred while deleting the car.")}};return e("div",{className:"container",children:[e(s,{children:e(n,{text:"success",className:"btn-outline-success m-1",onClick:()=>t("/addcar"),children:"Ajouter une voiture"},void 0,!1,{fileName:i,lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:i,lineNumber:44,columnNumber:7},void 0),e(s,{title:"Table Head",children:e("div",{className:"overflow-x-auto -mx-6",children:e("div",{className:"inline-block min-w-full align-middle",children:e("div",{className:"overflow-hidden ",children:e("table",{className:"min-w-full divide-y divide-slate-100 table-fixed dark:divide-slate-700",children:[e("thead",{className:"bg-slate-200 dark:bg-slate-700",children:e("tr",{children:[e("th",{children:"Brand"},void 0,!1,{fileName:i,lineNumber:60,columnNumber:21},void 0),e("th",{children:"Modele"},void 0,!1,{fileName:i,lineNumber:61,columnNumber:21},void 0),e("th",{children:"N\xB0 Serie"},void 0,!1,{fileName:i,lineNumber:62,columnNumber:21},void 0),e("th",{children:"User"},void 0,!1,{fileName:i,lineNumber:63,columnNumber:21},void 0),e("th",{children:"Action"},void 0,!1,{fileName:i,lineNumber:64,columnNumber:21},void 0)]},void 0,!0,{fileName:i,lineNumber:59,columnNumber:19},void 0)},void 0,!1,{fileName:i,lineNumber:58,columnNumber:17},void 0),e("tbody",{className:"bg-white divide-y divide-slate-100 dark:bg-slate-800 dark:divide-slate-700 text-center",children:a&&a.map(l=>e("tr",{children:[e("td",{children:l.brand},void 0,!1,{fileName:i,lineNumber:71,columnNumber:25},void 0),e("td",{children:l.model},void 0,!1,{fileName:i,lineNumber:72,columnNumber:25},void 0),e("td",{children:l.num_serie},void 0,!1,{fileName:i,lineNumber:73,columnNumber:25},void 0),e("td",{children:l.user.name},void 0,!1,{fileName:i,lineNumber:74,columnNumber:25},void 0),e("td",{children:e(n,{className:"text-nowrap px-1",onClick:()=>N(l._id),outline:!0,children:e(b,{icon:"heroicons:archive-box-x-mark"},void 0,!1,{fileName:i,lineNumber:81,columnNumber:29},void 0)},void 0,!1,{fileName:i,lineNumber:76,columnNumber:27},void 0)},void 0,!1,{fileName:i,lineNumber:75,columnNumber:25},void 0)]},l._id,!0,{fileName:i,lineNumber:70,columnNumber:23},void 0))},void 0,!1,{fileName:i,lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:i,lineNumber:57,columnNumber:15},void 0)},void 0,!1,{fileName:i,lineNumber:56,columnNumber:13},void 0)},void 0,!1,{fileName:i,lineNumber:55,columnNumber:11},void 0)},void 0,!1,{fileName:i,lineNumber:54,columnNumber:9},void 0)},void 0,!1,{fileName:i,lineNumber:53,columnNumber:7},void 0)]},void 0,!0,{fileName:i,lineNumber:43,columnNumber:5},void 0)};export{_ as default};
